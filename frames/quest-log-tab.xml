<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.blizzard.com/wow/ui/ https://raw.githubusercontent.com/Meorawr/wow-ui-schema/main/UI.xsd">

  <Script file="quest-log-tab.lua" />

  <!-- Quest Log tab for battle pets -->
  <Frame 
    inherits="QuestLogTabButtonTemplate"
    mixin="JetBattlePetsQuestTabButtonMixin"
    name="JetBattlePetsQuestTabButtonTemplate"
    virtual="true"
  >
    <KeyValues>
      <!-- ID used for WoW to know which tab is selected -->
      <KeyValue key="displayMode" value="JetBattlePets" type="string" />

      <!-- Text in the tooltip on hover -->
      <KeyValue key="tooltipText" value="Battle Pets" type="string" />
    </KeyValues>

    <Layers>
      <!-- Tab Icon -->
      <Layer level="ARTWORK">
        <Texture parentKey="BattlePetIcon">
          <Size x="24" y="24" />

          <Anchors>
            <Anchor point="CENTER" />
          </Anchors>
        </Texture>
      </Layer>
    </Layers>

    <Scripts>
      <OnLoad method="OnLoad" />
      <OnMouseUp method="OnMouseUp" />
    </Scripts>
  </Frame>

  <!-- Quest Log page showing pets in the current zone -->
  <Frame
    enableMouse="true"
    hidden="true"
    mixin="JetBattlePetsQuestLogPageMixin"
    name="JetBattlePetsQuestLogPageTemplate"
    virtual="true"
  >
    <KeyValues>
      <!-- ID of the page so WoW knows when to display it -->
      <KeyValue key="displayMode" value="JetBattlePets" type="string" />
    </KeyValues>

    <Anchors>
      <Anchor point="TOPLEFT" relativeKey="$parent.ContentsAnchor" y="-29" />
      <Anchor point="BOTTOMRIGHT" relativeKey="$parent.ContentsAnchor" x="-22" />
    </Anchors>

    <Layers>
      <Layer level="BACKGROUND">
        <Texture setAllPoints="true" />
      </Layer>
    </Layers>

    <Frames>
      <Frame 
        parentKey="BorderFrame"
        inherits="QuestLogBorderFrameTemplate"
      />

      <!-- Scroll box for the page -->
      <Frame
        parentKey="ScrollBox"
        inherits="WowScrollBoxList"
      >
        <Anchors>
          <Anchor point="TOPLEFT" />
          <Anchor point="BOTTOMRIGHT" />
        </Anchors>

        <Layers>
          <Layer level="BACKGROUND">
            <Texture 
              atlas="QuestLog-main-background"
              parentKey="Background"
              useAtlasSize="true"
            >
              <Anchors>
                <Anchor point="TOPLEFT" />
                <Anchor point="BOTTOMRIGHT" />
              </Anchors>
            </Texture>

            <!-- Text displayed when there are no pets in the zone -->
            <FontString 
              hidden="true"
              inherits="Game16Font"
              parentKey="EmptyText"
              text="No Battle Pets"
            >
              <Anchors>
                <Anchor point="CENTER" />
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>

      <EventFrame
        parentKey="ScrollBar"
        inherits="MinimalScrollBar"
      >
        <Anchors>
          <Anchor 
            point="TOPLEFT" 
            relativeKey="$parent.ScrollBox"
            relativePoint="TOPRIGHT"
            x="8"
            y="2"
          />
          
          <Anchor 
            point="BOTTOMLEFT" 
            relativeKey="$parent.ScrollBox"
            relativePoint="BOTTOMRIGHT"
            x="6"
            y="-4"
          />
        </Anchors>
      </EventFrame>
    </Frames>

    <Scripts>
      <OnShow method="OnShow" />
    </Scripts>
  </Frame>
</Ui>